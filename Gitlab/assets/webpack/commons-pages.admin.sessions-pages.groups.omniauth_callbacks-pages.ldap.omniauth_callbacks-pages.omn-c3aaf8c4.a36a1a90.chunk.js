(this.webpackJsonp=this.webpackJsonp||[]).push([[31,148],{"++uG":function(e,t,r){var n=r("/EoU"),o=r("KG2+"),i=r("jSuq"),s=r("9AHH"),a=r("FUyg"),u=r("rOVP").aTypedArrayConstructor;e.exports=function(e){var t,r,c,f,d,p,h=n(e),l=arguments.length,g=l>1?arguments[1]:void 0,v=void 0!==g,y=i(h);if(null!=y&&!s(y))for(p=(d=y.call(h)).next,h=[];!(f=p.call(d)).done;)h.push(f.value);for(v&&l>2&&(g=a(g,arguments[2],2)),r=o(h.length),c=new(u(this))(r),t=0;r>t;t++)c[t]=v?g(h[t],t):h[t];return c}},"/eF7":function(e,t,r){var n=r("omPs"),o=r("LlRA"),i=r("1/+g"),s=r("LK1c"),a=r("qifX"),u=r("iNcF"),c=r("qmgT"),f=r("gO+Z"),d=r("mqi7"),p=r("1sa0"),h=r("5TiC"),l=r("ZB1U"),g=r("aYTY"),v=r("90A/"),y=r("z9/d"),b=r("P/Kr"),m=r("FBB6"),w=r("dOWE"),_=r("XCkn"),E=r("2rze"),T=r("/NDV"),A=r("UwPs"),I=1,P=2,S=4,j="[object Arguments]",R="[object Function]",x="[object GeneratorFunction]",O="[object Object]",U={};U[j]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object DataView]"]=U["[object Boolean]"]=U["[object Date]"]=U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Map]"]=U["[object Number]"]=U[O]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object Symbol]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Error]"]=U[R]=U["[object WeakMap]"]=!1,e.exports=function e(t,r,k,C,N,F){var q,M=r&I,W=r&P,L=r&S;if(k&&(q=N?k(t,C,N,F):k(t)),void 0!==q)return q;if(!_(t))return t;var B=b(t);if(B){if(q=g(t),!M)return c(t,q)}else{var D=l(t),V=D==R||D==x;if(m(t))return u(t,M);if(D==O||D==j||V&&!N){if(q=W||V?{}:y(t),!M)return W?d(t,a(q,t)):f(t,s(q,t))}else{if(!U[D])return N?t:{};q=v(t,D,M)}}F||(F=new n);var G=F.get(t);if(G)return G;F.set(t,q),E(t)?t.forEach((function(n){q.add(e(n,r,k,n,t,F))})):w(t)&&t.forEach((function(n,o){q.set(o,e(n,r,k,o,t,F))}));var J=B?void 0:(L?W?h:p:W?A:T)(t);return o(J||t,(function(n,o){J&&(n=t[o=n]),i(q,o,e(n,r,k,o,t,F))})),q}},"05sH":function(e,t,r){var n=r("8FVE"),o=r("zxUd"),i=r("r6dd"),s=r("aTSC"),a=r("7Zqv"),u=r("M1vi"),c=r("etTJ"),f=r("/NDV"),d=r("Ksks"),p=r("WlOc"),h=r("rhmX"),l="Invalid `variable` option passed into `_.template`",g=/\b__p \+= '';/g,v=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/[()=,{}\[\]\/\s]/,m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,w=/($^)/,_=/['\n\r\u2028\u2029\\]/g,E=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var T=p.imports._.templateSettings||p;r&&c(e,t,r)&&(t=void 0),e=h(e),t=n({},t,T,s);var A,I,P=n({},t.imports,T.imports,s),S=f(P),j=i(P,S),R=0,x=t.interpolate||w,O="__p += '",U=RegExp((t.escape||w).source+"|"+x.source+"|"+(x===d?m:w).source+"|"+(t.evaluate||w).source+"|$","g"),k=E.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(U,(function(t,r,n,o,i,s){return n||(n=o),O+=e.slice(R,s).replace(_,a),r&&(A=!0,O+="' +\n__e("+r+") +\n'"),i&&(I=!0,O+="';\n"+i+";\n__p += '"),n&&(O+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),R=s+t.length,t})),O+="';\n";var C=E.call(t,"variable")&&t.variable;if(C){if(b.test(C))throw new Error(l)}else O="with (obj) {\n"+O+"\n}\n";O=(I?O.replace(g,""):O).replace(v,"$1").replace(y,"$1;"),O="function("+(C||"obj")+") {\n"+(C?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(A?", __e = _.escape":"")+(I?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+O+"return __p\n}";var N=o((function(){return Function(S,k+"return "+O).apply(void 0,j)}));if(N.source=O,u(N))throw N;return N}},"0Y/0":function(e,t,r){var n=r("8Doe"),o=r("bZij"),i=r("PiTB");e.exports=function(e){return i(o(e,void 0,n),e+"")}},"2rze":function(e,t,r){var n=r("9s1C"),o=r("wJPF"),i=r("Uc6l"),s=i&&i.isSet,a=s?o(s):n;e.exports=a},"3lpw":function(e,t){var r=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,s=Math.LN2;e.exports={pack:function(e,t,a){var u,c,f,d=new Array(a),p=8*a-t-1,h=(1<<p)-1,l=h>>1,g=23===t?n(2,-24)-n(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(c=e!=e?1:0,u=h):(u=o(i(e)/s),e*(f=n(2,-u))<1&&(u--,f*=2),(e+=u+l>=1?g/f:g*n(2,1-l))*f>=2&&(u++,f/=2),u+l>=h?(c=0,u=h):u+l>=1?(c=(e*f-1)*n(2,t),u+=l):(c=e*n(2,l-1)*n(2,t),u=0));t>=8;d[y++]=255&c,c/=256,t-=8);for(u=u<<t|c,p+=t;p>0;d[y++]=255&u,u/=256,p-=8);return d[--y]|=128*v,d},unpack:function(e,t){var r,o=e.length,i=8*o-t-1,s=(1<<i)-1,a=s>>1,u=i-7,c=o-1,f=e[c--],d=127&f;for(f>>=7;u>0;d=256*d+e[c],c--,u-=8);for(r=d&(1<<-u)-1,d>>=-u,u+=t;u>0;r=256*r+e[c],c--,u-=8);if(0===d)d=1-a;else{if(d===s)return r?NaN:f?-1/0:1/0;r+=n(2,t),d-=a}return(f?-1:1)*r*n(2,d-t)}}},"4ips":function(e,t,r){var n=r("1qE/"),o=r("MlCX");e.exports=function e(t,r,i,s,a){var u=-1,c=t.length;for(i||(i=o),a||(a=[]);++u<c;){var f=t[u];r>0&&i(f)?r>1?e(f,r-1,i,s,a):n(a,f):s||(a[a.length]=f)}return a}},"5AKe":function(e,t,r){var n=r("8Ei6");e.exports=function(e){return n(e)?void 0:e}},"5Jut":function(e,t,r){"use strict";var n=r("ZfjD"),o=r("kd5c"),i=r("jl4x"),s=r("8WuC"),a=r("rOVP"),u=r("6Qh7"),c=r("95WW"),f=r("+UhQ"),d=r("xEpy"),p=r("KG2+"),h=r("z2vN"),l=r("BT+t"),g=r("JI+r"),v=r("YEnO"),y=r("Iwu2"),b=r("wZF9"),m=r("TEho"),w=r("YAPA"),_=r("3fnk").f,E=r("++uG"),T=r("WG2a").forEach,A=r("evZH"),I=r("OhKz"),P=r("MEJ2"),S=r("dPRI"),j=r("PzVL"),R=S.get,x=S.set,O=I.f,U=P.f,k=Math.round,C=o.RangeError,N=u.ArrayBuffer,F=u.DataView,q=a.NATIVE_ARRAY_BUFFER_VIEWS,M=a.TYPED_ARRAY_TAG,W=a.TypedArray,L=a.TypedArrayPrototype,B=a.aTypedArrayConstructor,D=a.isTypedArray,V=function(e,t){for(var r=0,n=t.length,o=new(B(e))(n);n>r;)o[r]=t[r++];return o},G=function(e,t){O(e,t,{get:function(){return R(this)[t]}})},J=function(e){var t;return e instanceof N||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},Y=function(e,t){return D(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return Y(e,t=g(t,!0))?f(2,e[t]):U(e,t)},z=function(e,t,r){return!(Y(e,t=g(t,!0))&&b(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?O(e,t,r):(e[t]=r.value,e)};i?(q||(P.f=K,I.f=z,G(L,"buffer"),G(L,"byteOffset"),G(L,"byteLength"),G(L,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:K,defineProperty:z}),e.exports=function(e,t,r){var i=e.match(/\d+$/)[0]/8,a=e+(r?"Clamped":"")+"Array",u="get"+e,f="set"+e,g=o[a],v=g,y=v&&v.prototype,I={},P=function(e,t){O(e,t,{get:function(){return function(e,t){var r=R(e);return r.view[u](t*i+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=R(e);r&&(n=(n=k(n))<0?0:n>255?255:255&n),o.view[f](t*i+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};q?s&&(v=t((function(e,t,r,n){return c(e,v,a),j(b(t)?J(t)?void 0!==n?new g(t,l(r,i),n):void 0!==r?new g(t,l(r,i)):new g(t):D(t)?V(v,t):E.call(v,t):new g(h(t)),e,v)})),w&&w(v,W),T(_(g),(function(e){e in v||d(v,e,g[e])})),v.prototype=y):(v=t((function(e,t,r,n){c(e,v,a);var o,s,u,f=0,d=0;if(b(t)){if(!J(t))return D(t)?V(v,t):E.call(v,t);o=t,d=l(r,i);var g=t.byteLength;if(void 0===n){if(g%i)throw C("Wrong length");if((s=g-d)<0)throw C("Wrong length")}else if((s=p(n)*i)+d>g)throw C("Wrong length");u=s/i}else u=h(t),o=new N(s=u*i);for(x(e,{buffer:o,byteOffset:d,byteLength:s,length:u,view:new F(o)});f<u;)P(e,f++)})),w&&w(v,W),y=v.prototype=m(L)),y.constructor!==v&&d(y,"constructor",v),M&&d(y,M,a),I[a]=v,n({global:!0,forced:v!=g,sham:!q},I),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in y||d(y,"BYTES_PER_ELEMENT",i),A(a)}):e.exports=function(){}},"6Qh7":function(e,t,r){"use strict";var n=r("kd5c"),o=r("jl4x"),i=r("EPOx"),s=r("xEpy"),a=r("zaKd"),u=r("QmHw"),c=r("95WW"),f=r("u67S"),d=r("KG2+"),p=r("z2vN"),h=r("3lpw"),l=r("QDZz"),g=r("YAPA"),v=r("3fnk").f,y=r("OhKz").f,b=r("AeaF"),m=r("lcml"),w=r("dPRI"),_=w.get,E=w.set,T=n.ArrayBuffer,A=T,I=n.DataView,P=I&&I.prototype,S=Object.prototype,j=n.RangeError,R=h.pack,x=h.unpack,O=function(e){return[255&e]},U=function(e){return[255&e,e>>8&255]},k=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},C=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},N=function(e){return R(e,23,4)},F=function(e){return R(e,52,8)},q=function(e,t){y(e.prototype,t,{get:function(){return _(this)[t]}})},M=function(e,t,r,n){var o=p(r),i=_(e);if(o+t>i.byteLength)throw j("Wrong index");var s=_(i.buffer).bytes,a=o+i.byteOffset,u=s.slice(a,a+t);return n?u:u.reverse()},W=function(e,t,r,n,o,i){var s=p(r),a=_(e);if(s+t>a.byteLength)throw j("Wrong index");for(var u=_(a.buffer).bytes,c=s+a.byteOffset,f=n(+o),d=0;d<t;d++)u[c+d]=f[i?d:t-d-1]};if(i){if(!u((function(){T(1)}))||!u((function(){new T(-1)}))||u((function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name}))){for(var L,B=(A=function(e){return c(this,A),new T(p(e))}).prototype=T.prototype,D=v(T),V=0;D.length>V;)(L=D[V++])in A||s(A,L,T[L]);B.constructor=A}g&&l(P)!==S&&g(P,S);var G=new I(new A(2)),J=P.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||a(P,{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},{unsafe:!0})}else A=function(e){c(this,A,"ArrayBuffer");var t=p(e);E(this,{bytes:b.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},I=function(e,t,r){c(this,I,"DataView"),c(e,A,"DataView");var n=_(e).byteLength,i=f(t);if(i<0||i>n)throw j("Wrong offset");if(i+(r=void 0===r?n-i:d(r))>n)throw j("Wrong length");E(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},o&&(q(A,"byteLength"),q(I,"buffer"),q(I,"byteLength"),q(I,"byteOffset")),a(I.prototype,{getInt8:function(e){return M(this,1,e)[0]<<24>>24},getUint8:function(e){return M(this,1,e)[0]},getInt16:function(e){var t=M(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=M(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return C(M(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return C(M(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return x(M(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return x(M(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){W(this,1,e,O,t)},setUint8:function(e,t){W(this,1,e,O,t)},setInt16:function(e,t){W(this,2,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){W(this,2,e,U,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){W(this,4,e,k,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){W(this,4,e,k,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){W(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){W(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});m(A,"ArrayBuffer"),m(I,"DataView"),e.exports={ArrayBuffer:A,DataView:I}},"7Zqv":function(e,t){var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+r[e]}},"8Doe":function(e,t,r){var n=r("4ips");e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},"8FVE":function(e,t,r){var n=r("xJuT"),o=r("eiA/"),i=r("UwPs"),s=o((function(e,t,r,o){n(t,i(t),e,o)}));e.exports=s},"8WuC":function(e,t,r){var n=r("kd5c"),o=r("QmHw"),i=r("nphC"),s=r("rOVP").NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,u=n.Int8Array;e.exports=!s||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!i((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new a(2),1,void 0).length}))},"90A/":function(e,t,r){var n=r("TXW/"),o=r("p1dg"),i=r("zPTW"),s=r("VYh0"),a=r("b/GH"),u="[object Boolean]",c="[object Date]",f="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",l="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",m="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]";e.exports=function(e,t,r){var S=e.constructor;switch(t){case v:return n(e);case u:case c:return new S(+e);case y:return o(e,r);case b:case m:case w:case _:case E:case T:case A:case I:case P:return a(e,r);case f:return new S;case d:case l:return new S(e);case p:return i(e);case h:return new S;case g:return s(e)}}},"9s1C":function(e,t,r){var n=r("ZB1U"),o=r("QA6A"),i="[object Set]";e.exports=function(e){return o(e)&&n(e)==i}},AeaF:function(e,t,r){"use strict";var n=r("/EoU"),o=r("ljdl"),i=r("KG2+");e.exports=function(e){for(var t=n(this),r=i(t.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,r),u=s>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>a;)t[a++]=e;return t}},"BT+t":function(e,t,r){var n=r("RYvb");e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},EPOx:function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},GWY9:function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return x}));var n=r("EmJ/"),o=r.n(n),i=r("r7AW"),s=r.n(i),a=r("05sH"),u=r.n(a),c=r("/lV4");class f{constructor(e,t){this.errorCode=e,this.message=this.message.bind(this),this.httpsDisabled="https:"!==window.location.protocol,this.u2fFlowType=t}message(){if(this.errorCode===window.u2f.ErrorCodes.BAD_REQUEST&&this.httpsDisabled)return Object(c.a)("U2F only works with HTTPS-enabled websites. Contact your administrator for more details.");if(this.errorCode===window.u2f.ErrorCodes.DEVICE_INELIGIBLE){if("authenticate"===this.u2fFlowType)return Object(c.a)("This device has not been registered with us.");if("register"===this.u2fFlowType)return Object(c.a)("This device has already been registered with us.")}return Object(c.a)("There was a problem communicating with your device.")}}function d(e){return e.indexOf("Opera")>=0||e.indexOf("OPR")>=0}function p(e){const t=function(e){return e.indexOf("Chrom")>=0&&!d(e)}(e)&&function(e){const t=e.match(/Chrom(?:e|ium)\/([0-9]+)\./);return!!t&&parseInt(t[1],10)}(e)>=41,r=d(e)&&function(e){const t=e.match(/OPR[^0-9]*([0-9]+)[^0-9]+/);return!!t&&parseInt(t[1],10)}(e)>=40,n=e.indexOf("droid")>=0||e.indexOf("CriOS")>=0||/\b(iPad|iPhone|iPod)(?=;)/.test(e);return(t||r)&&!n}function h(){if(window.u2f)return Promise.resolve(window.u2f);return p("undefined"!=typeof navigator?navigator.userAgent:"")||gon&&gon.test_env?Promise.resolve().then(r.t.bind(null,"zpXI",7)).then((function(){return window.u2f})):Promise.reject()}class l{constructor(e,t,r,n,o){this.u2fUtils=null,this.container=e,this.renderAuthenticated=this.renderAuthenticated.bind(this),this.renderError=this.renderError.bind(this),this.renderInProgress=this.renderInProgress.bind(this),this.renderTemplate=this.renderTemplate.bind(this),this.authenticate=this.authenticate.bind(this),this.start=this.start.bind(this),this.appId=r.app_id,this.challenge=r.challenge,this.form=t,this.fallbackButton=n,this.fallbackUI=o,this.fallbackButton&&this.fallbackButton.addEventListener("click",this.switchToFallbackUI.bind(this)),this.signRequests=r.sign_requests.map((function(e){return s()(e,"challenge")})),this.templates={inProgress:"#js-authenticate-token-2fa-in-progress",error:"#js-authenticate-token-2fa-error",authenticated:"#js-authenticate-token-2fa-authenticated"}}start(){var e=this;return h().then((function(t){e.u2fUtils=t,e.renderInProgress()})).catch((function(){return e.switchToFallbackUI()}))}authenticate(){var e=this;return this.u2fUtils.sign(this.appId,this.challenge,this.signRequests,(function(t){if(t.errorCode){const r=new f(t.errorCode,"authenticate");return e.renderError(r)}return e.renderAuthenticated(JSON.stringify(t))}),10)}renderTemplate(e,t){const r=o()(this.templates[e]).html(),n=u()(r);return this.container.html(n(t))}renderInProgress(){return this.renderTemplate("inProgress"),this.authenticate()}renderError(e){return this.renderTemplate("error",{error_message:e.message(),error_name:e.errorCode}),this.container.find("#js-token-2fa-try-again").on("click",this.renderInProgress)}renderAuthenticated(e){this.renderTemplate("authenticated");const t=this.container[0];t.querySelector("#js-device-response").value=e,t.querySelector(this.form).submit(),this.fallbackButton.classList.add("hidden")}switchToFallbackUI(){this.fallbackButton.classList.add("hidden"),this.container[0].classList.add("hidden"),this.fallbackUI.classList.remove("hidden")}}class g{constructor(e,t){this.u2fUtils=null,this.container=e,this.renderNotSupported=this.renderNotSupported.bind(this),this.renderRegistered=this.renderRegistered.bind(this),this.renderError=this.renderError.bind(this),this.renderInProgress=this.renderInProgress.bind(this),this.renderSetup=this.renderSetup.bind(this),this.renderTemplate=this.renderTemplate.bind(this),this.register=this.register.bind(this),this.start=this.start.bind(this),this.appId=t.app_id,this.registerRequests=t.register_requests,this.signRequests=t.sign_requests,this.templates={message:"#js-register-2fa-message",setup:"#js-register-token-2fa-setup",error:"#js-register-token-2fa-error",registered:"#js-register-token-2fa-registered"}}start(){var e=this;return h().then((function(t){e.u2fUtils=t,e.renderSetup()})).catch((function(){return e.renderNotSupported()}))}register(){var e=this;return this.u2fUtils.register(this.appId,this.registerRequests,this.signRequests,(function(t){if(t.errorCode){const r=new f(t.errorCode,"register");return e.renderError(r)}return e.renderRegistered(JSON.stringify(t))}),10)}renderTemplate(e,t){const r=o()(this.templates[e]).html(),n=u()(r);return this.container.html(n(t))}renderSetup(){return this.renderTemplate("setup"),this.container.find("#js-setup-token-2fa-device").on("click",this.renderInProgress)}renderInProgress(){return this.renderTemplate("message",{message:Object(c.a)("Trying to communicate with your device. Plug it in (if needed) and press the button on the device now.")}),this.register()}renderError(e){return this.renderTemplate("error",{error_message:e.message(),error_name:e.errorCode}),this.container.find("#js-token-2fa-try-again").on("click",this.renderSetup)}renderRegistered(e){return this.renderTemplate("registered"),this.container.find("#js-device-response").val(e)}renderNotSupported(){return this.renderTemplate("message",{message:Object(c.a)("Your browser doesn't support U2F. Please use Google Chrome desktop (version 41 or newer).")})}}r("nwdZ"),r("RM6x");function v(){return Boolean(navigator.credentials&&navigator.credentials.create&&navigator.credentials.get&&window.PublicKeyCredential)}function y(){return window.location.protocol.startsWith("https")}const b="authenticate",m="register";function w(e){const t=window.atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e+=1)n[e]=t.charCodeAt(e);return n.buffer}function _(e){if("string"==typeof e)return e;let t="";const r=new Uint8Array(e),n=r.byteLength;for(let e=0;e<n;e+=1)t+=String.fromCharCode(r[e]);return window.btoa(t)}function E({id:e,...t}){return{...t,id:w(e)}}function T(e){return e.map(E)}function A(e,t){return t.reduce((function(t,r){return Object.assign(t,{[r]:_(e[r])})}),{})}class I{constructor(e,t){this.error=e,this.errorName=e.name||"UnknownError",this.message=this.message.bind(this),this.httpsDisabled=!y(),this.flowType=t}message(){return"NotSupportedError"===this.errorName?Object(c.a)("Your device is not compatible with GitLab. Please try another device"):"InvalidStateError"===this.errorName&&this.flowType===b?Object(c.a)("This device has not been registered with us."):"InvalidStateError"===this.errorName&&this.flowType===m?Object(c.a)("This device has already been registered with us."):"SecurityError"===this.errorName&&this.httpsDisabled?Object(c.a)("WebAuthn only works with HTTPS-enabled websites. Contact your administrator for more details."):Object(c.a)("There was a problem communicating with your device.")}}class P{constructor(e,t){this.container=e,this.templates=t}renderTemplate(e,t){const r=document.querySelector(this.templates[e]).innerHTML,n=u()(r);this.container.html(n(t))}renderError(e){this.renderTemplate("error",{error_message:e.message(),error_name:e.errorName})}}class S{constructor(e,t,r,n,o){this.container=e,this.webauthnParams=function({allowCredentials:e,challenge:t,...r}){return{...r,...e?{allowCredentials:T(e)}:{},challenge:w(t)}}(JSON.parse(r.options)),this.renderInProgress=this.renderInProgress.bind(this),this.form=t,this.fallbackButton=n,this.fallbackUI=o,this.fallbackButton&&this.fallbackButton.addEventListener("click",this.switchToFallbackUI.bind(this)),this.flow=new P(e,{inProgress:"#js-authenticate-token-2fa-in-progress",error:"#js-authenticate-token-2fa-error",authenticated:"#js-authenticate-token-2fa-authenticated"}),this.container.on("click","#js-token-2fa-try-again",this.renderInProgress)}start(){v()?this.renderInProgress():this.switchToFallbackUI()}authenticate(){var e=this;navigator.credentials.get({publicKey:this.webauthnParams}).then((function(t){const r={type:(n=t).type,id:n.id,rawId:_(n.rawId),response:A(n.response,["clientDataJSON","authenticatorData","signature","userHandle"]),clientExtensionResults:n.getClientExtensionResults()};var n;e.renderAuthenticated(JSON.stringify(r))})).catch((function(t){e.flow.renderError(new I(t,"authenticate"))}))}renderInProgress(){this.flow.renderTemplate("inProgress"),this.authenticate()}renderAuthenticated(e){this.flow.renderTemplate("authenticated");const t=this.container[0];t.querySelector("#js-device-response").value=e,t.querySelector(this.form).submit(),this.fallbackButton.classList.add("hidden")}switchToFallbackUI(){this.fallbackButton.classList.add("hidden"),this.container[0].classList.add("hidden"),this.fallbackUI.classList.remove("hidden")}}class j{constructor(e,t){this.container=e,this.renderInProgress=this.renderInProgress.bind(this),this.webauthnOptions=function({challenge:e,user:t,excludeCredentials:r,...n}){return{...n,challenge:w(e),user:E(t),...r?{excludeCredentials:T(r)}:{}}}(t.options),this.flow=new P(e,{message:"#js-register-2fa-message",setup:"#js-register-token-2fa-setup",error:"#js-register-token-2fa-error",registered:"#js-register-token-2fa-registered"}),this.container.on("click","#js-token-2fa-try-again",this.renderInProgress)}start(){v()?this.renderSetup():this.renderNotSupported(!y())}register(){var e=this;navigator.credentials.create({publicKey:this.webauthnOptions}).then((function(t){return e.renderRegistered(JSON.stringify({type:(r=t).type,id:r.id,rawId:_(r.rawId),clientExtensionResults:r.getClientExtensionResults(),response:A(r.response,["clientDataJSON","attestationObject"])}));var r})).catch((function(t){return e.flow.renderError(new I(t,"register"))}))}renderSetup(){this.flow.renderTemplate("setup"),this.container.find("#js-setup-token-2fa-device").on("click",this.renderInProgress)}renderInProgress(){return this.flow.renderTemplate("message",{message:Object(c.a)("Trying to communicate with your device. Plug it in (if needed) and press the button on the device now.")}),this.register()}renderRegistered(e){this.flow.renderTemplate("registered"),this.container.find("#js-device-response").val(e)}renderNotSupported(e){const t=e?Object(c.a)("WebAuthn only works with HTTPS-enabled websites. Contact your administrator for more details."):Object(c.a)("Your browser doesn't support WebAuthn. Please use a supported browser, e.g. Chrome (67+) or Firefox (60+).");this.flow.renderTemplate("message",{message:t})}}const R=function(){gon.webauthn?new S(o()("#js-authenticate-token-2fa"),"#js-login-token-2fa-form",gon.webauthn,document.querySelector("#js-login-2fa-device"),document.querySelector(".js-2fa-form")).start():function(){if(!gon.u2f)return;const e=new l(o()("#js-authenticate-token-2fa"),"#js-login-token-2fa-form",gon.u2f,document.querySelector("#js-login-2fa-device"),document.querySelector(".js-2fa-form"));e.start(),gl.u2fAuthenticate=e}()},x=function(){const e=o()("#js-register-token-2fa");if(e.length)if(gon.webauthn){new j(e,gon.webauthn).start()}else{new g(e,gon.u2f).start()}}},HZmL:function(e,t,r){var n=r("aEqC"),o=r("zx4+");e.exports=function(e,t){return t.length<2?e:n(e,o(t,0,-1))}},Ksks:function(e,t){e.exports=/<%=([\s\S]+?)%>/g},LK1c:function(e,t,r){var n=r("xJuT"),o=r("/NDV");e.exports=function(e,t){return e&&n(t,o(t),e)}},LlRA:function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},M1vi:function(e,t,r){var n=r("XpzN"),o=r("QA6A"),i=r("8Ei6"),s="[object DOMException]",a="[object Error]";e.exports=function(e){if(!o(e))return!1;var t=n(e);return t==a||t==s||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},MlCX:function(e,t,r){var n=r("aCzx"),o=r("x14d"),i=r("P/Kr"),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(s&&e&&e[s])}},PzVL:function(e,t,r){var n=r("wZF9"),o=r("YAPA");e.exports=function(e,t,r){var i,s;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(s=i.prototype)&&s!==r.prototype&&o(e,s),e}},RM6x:function(e,t,r){"use strict";var n=r("rOVP"),o=n.aTypedArray,i=n.exportTypedArrayMethod,s=[].sort;i("sort",(function(e){return s.call(o(this),e)}))},RYvb:function(e,t,r){var n=r("u67S");e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"TXW/":function(e,t,r){var n=r("Pt7R");e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},"Tx+D":function(e,t,r){var n=r("WmU+");e.exports=Array.isArray||function(e){return"Array"==n(e)}},VYh0:function(e,t,r){var n=r("aCzx"),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},WG2a:function(e,t,r){var n=r("FUyg"),o=r("QJ3H"),i=r("/EoU"),s=r("KG2+"),a=r("yqOl"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,f=4==e,d=6==e,p=7==e,h=5==e||d;return function(l,g,v,y){for(var b,m,w=i(l),_=o(w),E=n(g,v,3),T=s(_.length),A=0,I=y||a,P=t?I(l,T):r||p?I(l,0):void 0;T>A;A++)if((h||A in _)&&(m=E(b=_[A],A,w),e))if(t)P[A]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return A;case 2:u.call(P,b)}else switch(e){case 4:return!1;case 7:u.call(P,b)}return d?-1:c||f?f:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},WlOc:function(e,t,r){var n=r("G3fq"),o={escape:r("ecp+"),evaluate:r("cKyt"),interpolate:r("Ksks"),variable:"",imports:{_:{escape:n}}};e.exports=o},aTSC:function(e,t,r){var n=r("hmyg"),o=Object.prototype,i=o.hasOwnProperty;e.exports=function(e,t,r,s){return void 0===e||n(e,o[r])&&!i.call(s,r)?t:e}},aYTY:function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},"b/GH":function(e,t,r){var n=r("TXW/");e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},bSZQ:function(e,t,r){var n=r("FbqI"),o=r("gAdM"),i=r("HZmL"),s=r("sRgw");e.exports=function(e,t){return t=n(t,e),null==(e=i(e,t))||delete e[s(o(t))]}},cKyt:function(e,t){e.exports=/<%([\s\S]+?)%>/g},dOWE:function(e,t,r){var n=r("w9hk"),o=r("wJPF"),i=r("Uc6l"),s=i&&i.isMap,a=s?o(s):n;e.exports=a},"ecp+":function(e,t){e.exports=/<%-([\s\S]+?)%>/g},"eiA/":function(e,t,r){var n=r("Opi0"),o=r("etTJ");e.exports=function(e){return n((function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,a&&o(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,s)}return t}))}},evZH:function(e,t,r){"use strict";var n=r("OuD2"),o=r("OhKz"),i=r("7Sby"),s=r("jl4x"),a=i("species");e.exports=function(e){var t=n(e),r=o.f;s&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},gAdM:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},"gO+Z":function(e,t,r){var n=r("xJuT"),o=r("7LQ5");e.exports=function(e,t){return n(e,o(e),t)}},haxF:function(e,t,r){var n=r("XCkn"),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},iNcF:function(e,t,r){(function(e){var n=r("/wvS"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}).call(this,r("Fs+f")(e))},mqi7:function(e,t,r){var n=r("xJuT"),o=r("zOYv");e.exports=function(e,t){return n(e,o(e),t)}},nphC:function(e,t,r){var n=r("7Sby")("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},nwdZ:function(e,t,r){r("5Jut")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},p1dg:function(e,t,r){var n=r("TXW/");e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},qifX:function(e,t,r){var n=r("xJuT"),o=r("UwPs");e.exports=function(e,t){return e&&n(t,o(t),e)}},r7AW:function(e,t,r){var n=r("90g9"),o=r("/eF7"),i=r("bSZQ"),s=r("FbqI"),a=r("xJuT"),u=r("5AKe"),c=r("0Y/0"),f=r("5TiC"),d=c((function(e,t){var r={};if(null==e)return r;var c=!1;t=n(t,(function(t){return t=s(t,e),c||(c=t.length>1),t})),a(e,f(e),r),c&&(r=o(r,7,u));for(var d=t.length;d--;)i(r,t[d]);return r}));e.exports=d},rOVP:function(e,t,r){"use strict";var n,o=r("EPOx"),i=r("jl4x"),s=r("kd5c"),a=r("wZF9"),u=r("YEnO"),c=r("Iwu2"),f=r("xEpy"),d=r("fEQ0"),p=r("OhKz").f,h=r("QDZz"),l=r("YAPA"),g=r("7Sby"),v=r("MVcu"),y=s.Int8Array,b=y&&y.prototype,m=s.Uint8ClampedArray,w=m&&m.prototype,_=y&&h(y),E=b&&h(b),T=Object.prototype,A=T.isPrototypeOf,I=g("toStringTag"),P=v("TYPED_ARRAY_TAG"),S=o&&!!l&&"Opera"!==c(s.opera),j=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},x={BigInt64Array:8,BigUint64Array:8},O=function(e){if(!a(e))return!1;var t=c(e);return u(R,t)||u(x,t)};for(n in R)s[n]||(S=!1);if((!S||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},S))for(n in R)s[n]&&l(s[n],_);if((!S||!E||E===T)&&(E=_.prototype,S))for(n in R)s[n]&&l(s[n].prototype,E);if(S&&h(w)!==E&&l(w,E),i&&!u(E,I))for(n in j=!0,p(E,I,{get:function(){return a(this)?this[P]:void 0}}),R)s[n]&&f(s[n],P,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:j&&P,aTypedArray:function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l){if(A.call(_,e))return e}else for(var t in R)if(u(R,n)){var r=s[t];if(r&&(e===r||A.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(i){if(r)for(var n in R){var o=s[n];if(o&&u(o.prototype,e))try{delete o.prototype[e]}catch(e){}}E[e]&&!r||d(E,e,r?t:S&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(i){if(l){if(r)for(n in R)if((o=s[n])&&u(o,e))try{delete o[e]}catch(e){}if(_[e]&&!r)return;try{return d(_,e,r?t:S&&_[e]||t)}catch(e){}}for(n in R)!(o=s[n])||o[e]&&!r||d(o,e,t)}},isView:function(e){if(!a(e))return!1;var t=c(e);return"DataView"===t||u(R,t)||u(x,t)},isTypedArray:O,TypedArray:_,TypedArrayPrototype:E}},w9hk:function(e,t,r){var n=r("ZB1U"),o=r("QA6A"),i="[object Map]";e.exports=function(e){return o(e)&&n(e)==i}},xJuT:function(e,t,r){var n=r("1/+g"),o=r("vkS7");e.exports=function(e,t,r,i){var s=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var c=t[a],f=i?i(r[c],e[c],c,r,e):void 0;void 0===f&&(f=e[c]),s?o(r,c,f):n(r,c,f)}return r}},yqOl:function(e,t,r){var n=r("wZF9"),o=r("Tx+D"),i=r("7Sby")("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},z2vN:function(e,t,r){var n=r("u67S"),o=r("KG2+");e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"z9/d":function(e,t,r){var n=r("haxF"),o=r("uF7Z"),i=r("B0jI");e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},zPTW:function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},zpXI:function(e,t,r){"use strict";(function(e){var t,r=r||{};r.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",r.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_SIGN_RESPONSE:"u2f_sign_response",U2F_GET_API_VERSION_REQUEST:"u2f_get_api_version_request",U2F_GET_API_VERSION_RESPONSE:"u2f_get_api_version_response"},r.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},r.U2fRequest,r.U2fResponse,r.Error,r.Transport,r.Transports,r.SignRequest,r.SignResponse,r.RegisterRequest,r.RegisterResponse,r.RegisteredKey,r.GetJsApiVersionResponse,r.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(r.EXTENSION_ID,t,(function(){chrome.runtime.lastError?r.getIframePort_(e):r.getChromeRuntimePort_(e)}))}else r.isAndroidChrome_()?r.getAuthenticatorPort_(e):r.isIosChrome_()?r.getIosPort_(e):r.getIframePort_(e)},r.isAndroidChrome_=function(){var e=navigator.userAgent;return-1!=e.indexOf("Chrome")&&-1!=e.indexOf("Android")},r.isIosChrome_=function(){return e.inArray(navigator.platform,["iPhone","iPad","iPod"])>-1},r.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(r.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(new r.WrappedChromeRuntimePort_(t))}),0)},r.getAuthenticatorPort_=function(e){setTimeout((function(){e(new r.WrappedAuthenticatorPort_)}),0)},r.getIosPort_=function(e){setTimeout((function(){e(new r.WrappedIosPort_)}),0)},r.WrappedChromeRuntimePort_=function(e){this.port_=e},r.formatSignRequest_=function(e,n,o,i,s){if(void 0===t||t<1.1){for(var a=[],u=0;u<o.length;u++)a[u]={version:o[u].version,challenge:n,keyHandle:o[u].keyHandle,appId:e};return{type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:a,timeoutSeconds:i,requestId:s}}return{type:r.MessageTypes.U2F_SIGN_REQUEST,appId:e,challenge:n,registeredKeys:o,timeoutSeconds:i,requestId:s}},r.formatRegisterRequest_=function(e,n,o,i,s){if(void 0===t||t<1.1){for(var a=0;a<o.length;a++)o[a].appId=e;var u=[];for(a=0;a<n.length;a++)u[a]={version:n[a].version,challenge:o[0],keyHandle:n[a].keyHandle,appId:e};return{type:r.MessageTypes.U2F_REGISTER_REQUEST,signRequests:u,registerRequests:o,timeoutSeconds:i,requestId:s}}return{type:r.MessageTypes.U2F_REGISTER_REQUEST,appId:e,registerRequests:o,registeredKeys:n,timeoutSeconds:i,requestId:s}},r.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},r.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var r=e.toLowerCase();"message"==r||"onmessage"==r?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},r.WrappedAuthenticatorPort_=function(){this.requestId_=-1,this.requestObject_=null},r.WrappedAuthenticatorPort_.prototype.postMessage=function(e){var t=r.WrappedAuthenticatorPort_.INTENT_URL_BASE_+";S.request="+encodeURIComponent(JSON.stringify(e))+";end";document.location=t},r.WrappedAuthenticatorPort_.prototype.getPortType=function(){return"WrappedAuthenticatorPort_"},r.WrappedAuthenticatorPort_.prototype.addEventListener=function(e,t){if("message"==e.toLowerCase()){window.addEventListener("message",this.onRequestUpdate_.bind(this,t),!1)}else console.error("WrappedAuthenticatorPort only supports message")},r.WrappedAuthenticatorPort_.prototype.onRequestUpdate_=function(e,t){var r=JSON.parse(t.data),n=(r.intentURL,r.errorCode,null);r.hasOwnProperty("data")&&(n=JSON.parse(r.data)),e({data:n})},r.WrappedAuthenticatorPort_.INTENT_URL_BASE_="intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE",r.WrappedIosPort_=function(){},r.WrappedIosPort_.prototype.postMessage=function(e){var t=JSON.stringify(e),r="u2f://auth?"+encodeURI(t);location.replace(r)},r.WrappedIosPort_.prototype.getPortType=function(){return"WrappedIosPort_"},r.WrappedIosPort_.prototype.addEventListener=function(e,t){"message"!==e.toLowerCase()&&console.error("WrappedIosPort only supports message")},r.getIframePort_=function(e){var t="chrome-extension://"+r.EXTENSION_ID,n=document.createElement("iframe");n.src=t+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var o=new MessageChannel,i=function(t){"ready"==t.data?(o.port1.removeEventListener("message",i),e(o.port1)):console.error('First event on iframe port was not "ready"')};o.port1.addEventListener("message",i),o.port1.start(),n.addEventListener("load",(function(){n.contentWindow.postMessage("init",t,[o.port2])}))},r.EXTENSION_TIMEOUT_SEC=30,r.port_=null,r.waitingForPort_=[],r.reqCounter_=0,r.callbackMap_={},r.getPortSingleton_=function(e){r.port_?e(r.port_):(0==r.waitingForPort_.length&&r.getMessagePort((function(e){for(r.port_=e,r.port_.addEventListener("message",r.responseHandler_);r.waitingForPort_.length;)r.waitingForPort_.shift()(r.port_)})),r.waitingForPort_.push(e))},r.responseHandler_=function(e){var t=e.data,n=t.requestId;if(n&&r.callbackMap_[n]){var o=r.callbackMap_[n];delete r.callbackMap_[n],o(t.responseData)}else console.error("Unknown or missing requestId in response.")},r.sign=function(e,n,o,i,s){void 0===t?r.getApiVersion((function(a){t=void 0===a.js_api_version?0:a.js_api_version,console.log("Extension JS API Version: ",t),r.sendSignRequest(e,n,o,i,s)})):r.sendSignRequest(e,n,o,i,s)},r.sendSignRequest=function(e,t,n,o,i){r.getPortSingleton_((function(s){var a=++r.reqCounter_;r.callbackMap_[a]=o;var u=void 0!==i?i:r.EXTENSION_TIMEOUT_SEC,c=r.formatSignRequest_(e,t,n,u,a);s.postMessage(c)}))},r.register=function(e,n,o,i,s){void 0===t?r.getApiVersion((function(a){t=void 0===a.js_api_version?0:a.js_api_version,console.log("Extension JS API Version: ",t),r.sendRegisterRequest(e,n,o,i,s)})):r.sendRegisterRequest(e,n,o,i,s)},r.sendRegisterRequest=function(e,t,n,o,i){r.getPortSingleton_((function(s){var a=++r.reqCounter_;r.callbackMap_[a]=o;var u=void 0!==i?i:r.EXTENSION_TIMEOUT_SEC,c=r.formatRegisterRequest_(e,n,t,u,a);s.postMessage(c)}))},r.getApiVersion=function(e,t){r.getPortSingleton_((function(n){if(n.getPortType){var o;switch(n.getPortType()){case"WrappedIosPort_":case"WrappedAuthenticatorPort_":o=1.1;break;default:o=0}e({js_api_version:o})}else{var i=++r.reqCounter_;r.callbackMap_[i]=e;var s={type:r.MessageTypes.U2F_GET_API_VERSION_REQUEST,timeoutSeconds:void 0!==t?t:r.EXTENSION_TIMEOUT_SEC,requestId:i};n.postMessage(s)}}))},window.u2f||(window.u2f=r)}).call(this,r("EmJ/"))},zxUd:function(e,t,r){var n=r("PIq0"),o=r("Opi0"),i=r("M1vi"),s=o((function(e,t){try{return n(e,void 0,t)}catch(e){return i(e)?e:new Error(e)}}));e.exports=s}}]);
//# sourceMappingURL=commons-pages.admin.sessions-pages.groups.omniauth_callbacks-pages.ldap.omniauth_callbacks-pages.omn-c3aaf8c4.a36a1a90.chunk.js.map